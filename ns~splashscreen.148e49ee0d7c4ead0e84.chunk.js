(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{198:function(o,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return L}));r(38),r(78),r(77);var t=r(0),a=r.n(t),n=r(4),c=r.n(n),s=r(11);var l={Actions:s.d.div(["display:flex;flex-direction:row;"])},u=r(72),i={STANDARD:"STANDARD",WARNING:"WARNING",ERROR:"ERROR"},d=r(133);let _,b,m,p,h=o=>o;var N={Wrapper:s.d.p(["min-width:10rem;max-width:100%;text-align:center;margin:.5rem;color:",";"," "," "," ",""],(({theme:o,variant:e})=>({[i.STANDARD]:o.colours.splash_screen_status_standard_colour,[i.WARNING]:o.colours.splash_screen_status_warning_colour,[i.ERROR]:o.colours.splash_screen_status_error_colour}[e])),d.a.small(_||(_=h`
    max-width: 30rem;
  `)),d.a.medium(b||(b=h`
    max-width: 45rem;
  `)),d.a.large(m||(m=h`
    max-width: 70rem;
  `)),d.a.huge(p||(p=h`
    max-width: 100%;
  `)))};const v={variant:c.a.oneOf(Object.values(i)),message:c.a.string.isRequired},A={variant:i.STANDARD},g=({variant:o,message:e})=>a.a.createElement(N.Wrapper,{variant:o},a.a.createElement("span",null,e));g.propTypes=v,g.defaultProps=A;var R=g,D={STANDARD:"STANDARD",OUTLINE:"OUTLINE",DANGER:"DANGER"};var E={Wrapper:s.d.button(["display:flex;justify-content:center;align-items:center;background-color:",";border-style:solid;border-width:1px;border-color:",";border-color:",";border-radius:3px;height:2rem;color:",";padding:0 1rem;text-decoration:none;user-select:none;&:disabled{background-color:",";color:",";}&:not(:disabled).active,&:not(:disabled):hover{background-color:",";border-color:",";color:",";text-decoration:none;cursor:pointer;}"],(({theme:o,variant:e})=>({[D.STANDARD]:o.colours.button_background_colour,[D.OUTLINE]:o.colours.button_outline_background_colour,[D.DANGER]:o.colours.button_danger_background_colour}[e])),(({theme:o,variant:e})=>({[D.STANDARD]:o.colours.button_border_colour,[D.OUTLINE]:o.colours.button_outline_border_colour,[D.DANGER]:o.colours.button_danger_border_colour}[e])),(({theme:o,variant:e})=>({[D.STANDARD]:o.colours.button_border_colour,[D.OUTLINE]:o.colours.button_outline_border_colour,[D.DANGER]:o.colours.button_danger_border_colour}[e])),(({theme:o,variant:e})=>({[D.STANDARD]:o.colours.button_colour,[D.OUTLINE]:o.colours.button_outline_colour,[D.DANGER]:o.colours.button_danger_colour}[e])),(({theme:o,variant:e})=>({[D.STANDARD]:o.colours.button_background_colour_disabled,[D.OUTLINE]:o.colours.button_outline_background_colour_disabled,[D.DANGER]:o.colours.button_danger_background_colour_disabled}[e])),(({theme:o,variant:e})=>({[D.STANDARD]:o.colours.button_colour_disabled,[D.OUTLINE]:o.colours.button_outline_colour_disabled,[D.DANGER]:o.colours.button_danger_colour_disabled}[e])),(({theme:o,variant:e})=>({[D.STANDARD]:o.colours.button_background_colour_hover,[D.OUTLINE]:o.colours.button_outline_background_colour_hover,[D.DANGER]:o.colours.button_danger_background_colour_hover}[e])),(({theme:o,variant:e})=>({[D.STANDARD]:o.colours.button_border_colour_hover,[D.OUTLINE]:o.colours.button_outline_border_colour_hover,[D.DANGER]:o.colours.button_danger_border_colour_hover}[e])),(({theme:o,variant:e})=>({[D.STANDARD]:o.colours.button_colour_hover,[D.OUTLINE]:o.colours.button_outline_colour_hover,[D.DANGER]:o.colours.button_danger_colour_hover}[e])))},T={BUTTON:"BUTTON",SUBMIT:"SUBMIT"},O=r(39);const k={className:c.a.string,children:O.a.CHILDREN,variant:c.a.oneOf(Object.values(D)),type:c.a.oneOf(Object.values(T)),text:c.a.string.isRequired,disabled:c.a.bool,active:c.a.bool,onClick:c.a.func},w={className:"",children:null,variant:D.STANDARD,type:T.BUTTON,disabled:!1,active:!1,onClick:null},S=({className:o,children:e,text:r,type:t,variant:n,disabled:c,active:s,onClick:l})=>a.a.createElement(E.Wrapper,{className:`${o}${s?" active":""}`,type:t.toLowerCase(),variant:n.toUpperCase(),disabled:c,onClick:l},e||r);S.propTypes=k,S.defaultProps=w;var f=S;class x extends Error{constructor(o,e,r){super(e),this.name=this.constructor.name,this.data={type:o,message:e,actions:r},Error.captureStackTrace(this,this.constructor)}handle(){return{type:this.data.type,message:this.data.message,actionHandlers:this.data.actions}}}class y extends x{constructor(){super("warning","An unknown error occured.",[{text:"Refresh",onClick:()=>window.location.reload()}])}}const I={title:c.a.string.isRequired,task:c.a.func.isRequired,onComplete:c.a.func.isRequired,onError:c.a.func},U={onError:o=>o instanceof x&&o.handle()||(new y).handle()},G=({title:o,task:e,onComplete:r,onError:n})=>{const[c,s]=Object(t.useState)(!0),[i,d]=Object(t.useState)({variant:null,message:"Initialising..."}),[_,b]=Object(t.useState)([]);return Object(t.useEffect)((()=>{(async()=>{try{await e()}catch(o){const{type:e,message:r,actionHandlers:t}=n(o);return b(t),d({variant:e.toUpperCase(),message:r}),void s(!1)}r()})()}),[e,r,n]),a.a.createElement(u.a,{showLoader:c,title:o},a.a.createElement(R,{variant:i.variant,message:i.message}),_.length>0&&a.a.createElement(l.Actions,null,_.map((({text:o,onClick:e})=>a.a.createElement(f,{key:o,text:o,onClick:e})))))};G.propTypes=I,G.defaultProps=U;var L=G}}]);